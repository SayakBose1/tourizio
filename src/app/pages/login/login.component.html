<div class="h-full flex items-center justify-center bg-grey/50 px-4 mt-12">
  <div class="w-full max-w-md bg-white rounded-lg shadow-lg p-8">
    <h2 class="text-2xl font-bold text-center mb-6">Login Your Account</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <div
        class="mb-4 transform transition-all duration-200 hover:scale-[1.01]"
      >
        <label for="email" class="block mb-1 font-semibold text-gray-700">
          Email <span class="text-red-500">*</span>
        </label>
        <div class="relative group">
          <span
            class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors"
          >
            <i class="fas fa-envelope"></i>
          </span>
          <input
            type="email"
            id="email"
            formControlName="email"
            placeholder="you@example.com"
            class="w-full px-4 py-2 pl-10 rounded-lg border-2 border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none transition-all duration-200 hover:border-gray-300"
            [class.border-red-500]="
              loginForm.get('email')?.invalid && loginForm.get('email')?.touched
            "
          />
        </div>
        <div
          *ngIf="
            loginForm.get('email')?.invalid && loginForm.get('email')?.touched
          "
          class="text-red-500 text-xs mt-1 ml-1"
        >
          <i class="fas fa-exclamation-circle mr-1"></i>
          <span *ngIf="loginForm.get('email')?.errors?.['required']"
            >Email is required</span
          >
          <span *ngIf="loginForm.get('email')?.errors?.['email']"
            >Please enter a valid email</span
          >
        </div>
      </div>

      <div
        class="mb-4 relative transform transition-all duration-200 hover:scale-[1.01]"
      >
        <label for="password" class="block mb-1 font-semibold text-gray-700">
          Password <span class="text-red-500">*</span>
        </label>
        <div class="relative group">
          <span
            class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors"
          >
            <i class="fas fa-lock"></i>
          </span>
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            formControlName="password"
            placeholder="***********"
            class="w-full px-4 py-2 pl-10 pr-10 rounded-lg border-2 border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none transition-all duration-200 hover:border-gray-300"
            [class.border-red-500]="
              loginForm.get('password')?.invalid &&
              loginForm.get('password')?.touched
            "
          />
          <i
            class="fas cursor-pointer text-gray-400 hover:text-gray-600 absolute top-1/2 -translate-y-1/2 right-3 flex items-center transition-colors"
            [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'"
            (click)="togglePasswordVisibility()"
          ></i>
        </div>
        <div
          *ngIf="
            loginForm.get('password')?.invalid &&
            loginForm.get('password')?.touched
          "
          class="text-red-500 text-xs mt-1 ml-1"
        >
          <i class="fas fa-exclamation-circle mr-1"></i>
          <span *ngIf="loginForm.get('password')?.errors?.['required']"
            >Password is required</span
          >
          <span *ngIf="loginForm.get('password')?.errors?.['minlength']">
            Password must be at least
            {{
              loginForm.get("password")?.errors?.["minlength"]?.requiredLength
            }}
            characters
          </span>
        </div>
      </div>

      <button
        type="submit"
        class="w-full py-3 mt-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transform transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed flex items-center justify-center"
        [disabled]="isLoading || loginForm.invalid"
      >
        <span *ngIf="!isLoading" class="flex items-center">
          <i class="fas fa-sign-in-alt mr-2"></i>
          Login
        </span>
        <span *ngIf="isLoading" class="flex items-center">
          <svg
            class="animate-spin -ml-1 mr-2 h-5 w-5 text-white"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
          >
            <circle
              class="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              stroke-width="4"
            ></circle>
            <path
              class="opacity-75"
              fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            ></path>
          </svg>
          Logging in...
        </span>
      </button>
    </form>

    <div class="flex items-center my-4">
      <hr class="flex-1 border-gray-300" />
      <span class="mx-2 text-gray-500">OR</span>
      <hr class="flex-1 border-gray-300" />
    </div>

    <button
      class="w-full py-3 bg-white border-2 border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-300 flex items-center justify-center font-semibold shadow-sm hover:shadow-md transform hover:scale-[1.02] active:scale-[0.98]"
      (click)="loginWithGoogle()"
      [disabled]="isLoading"
    >
      <svg
        class="w-6 h-6 mr-3"
        viewBox="0 0 533.5 544.3"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill="#4285F4"
          d="M533.5 278.4c0-17.3-1.6-34-4.7-50.3H272v95.1h146.9c-6.3 34.2-25 63.2-53.2 82.5v68.7h85.8c50.1-46.2 78.9-114 78.9-196z"
        />
        <path
          fill="#34A853"
          d="M272 544.3c72.3 0 132.8-23.9 177-64.8l-85.8-68.7c-23.8 16-54.3 25.2-91.2 25.2-69.9 0-129.1-47.3-150.2-111.1H34.6v69.8c44.6 88.3 136.1 149.6 237.4 149.6z"
        />
        <path
          fill="#FBBC05"
          d="M121.8 325.7c-10.3-30.7-10.3-64.6 0-95.3V160.6H34.6c-42.5 82.9-42.5 180.5 0 263.4l87.2-98.3z"
        />
        <path
          fill="#EA4335"
          d="M272 107.7c37.2-.6 72.9 13.6 100.1 39.4l75.1-75.1C405.1 24 345 0 272 0 170.6 0 79.1 61.3 34.6 149.6l87.2 69.8c21.1-63.8 80.3-111.1 150.2-111.1z"
        />
      </svg>
      Continue with Google
    </button>
    <p class="text-center text-sm text-gray-700 mt-4">
      Don't have an account?
      <span
        class="text-blue-600 font-bold hover:text-blue-700 hover:underline cursor-pointer transition-colors"
        (click)="goToSignup()"
      >
        Sign Up
      </span>
    </p>
    <div class="flex items-center justify-center mt-6 text-xs text-gray-500">
      <i class="fas fa-shield-alt mr-2 text-green-600"></i>
      <span>Your information is secure and encrypted</span>
    </div>
  </div>
</div>
<!-- ✅ Login Success Toast -->
<div
  *ngIf="showSuccessToast"
  class="fixed top-4 right-4 z-[100] w-[90%] sm:w-auto sm:max-w-md animate-slideInRight"
>
  <div
    class="bg-white rounded-2xl shadow-2xl border-l-4 border-green-500 p-4 sm:p-5 backdrop-blur-lg"
  >
    <div class="flex items-start gap-3 sm:gap-4">
      <div
        class="flex-shrink-0 w-9 h-9 sm:w-10 sm:h-10 bg-green-100 rounded-full flex items-center justify-center"
      >
        <i class="fas fa-check-circle text-green-600 text-lg sm:text-xl"></i>
      </div>
      <div class="flex-1 min-w-0">
        <h4 class="text-gray-900 font-bold text-sm sm:text-base mb-1">
          Login Successful
        </h4>
        <p class="text-gray-600 text-xs sm:text-sm leading-snug">
          {{ successMessage }}
        </p>
      </div>
      <button
        (click)="showSuccessToast = false"
        class="flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors"
      >
        <i class="fas fa-times text-sm sm:text-base"></i>
      </button>
    </div>
    <div class="mt-3 sm:mt-4 h-1 bg-gray-200 rounded-full overflow-hidden">
      <div
        class="h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full animate-shrink"
      ></div>
    </div>
  </div>
</div>

<!-- ✅ Login Error / Not Verified Toast -->
<div
  *ngIf="showErrorToast"
  class="fixed top-4 right-4 z-[100] w-[90%] sm:w-auto sm:max-w-md animate-slideInRight"
>
  <div
    class="bg-white rounded-2xl shadow-2xl border-l-4 border-red-500 p-4 sm:p-5 backdrop-blur-lg"
  >
    <div class="flex items-start gap-3 sm:gap-4">
      <div
        class="flex-shrink-0 w-9 h-9 sm:w-10 sm:h-10 bg-red-100 rounded-full flex items-center justify-center"
      >
        <i
          class="fas fa-exclamation-circle text-red-600 text-lg sm:text-xl"
        ></i>
      </div>
      <div class="flex-1 min-w-0">
        <h4 class="text-gray-900 font-bold text-sm sm:text-base mb-1">
          Login Failed
        </h4>
        <p class="text-gray-600 text-xs sm:text-sm leading-snug">
          {{ errorMessage }}
        </p>
      </div>
      <button
        (click)="showErrorToast = false"
        class="flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors"
      >
        <i class="fas fa-times text-sm sm:text-base"></i>
      </button>
    </div>
    <div class="mt-3 sm:mt-4 h-1 bg-gray-200 rounded-full overflow-hidden">
      <div
        class="h-full bg-gradient-to-r from-red-500 to-rose-500 rounded-full animate-shrink"
      ></div>
    </div>
  </div>
</div>
