<div class="relative bg-grey-50 min-h-screen py-16">
  <div class="max-w-6xl mx-auto px-6 relative z-10">
    <!-- Header -->
    <div class="text-center mb-12">
      <div
        class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full mb-6 shadow-lg"
      >
        <i class="fas fa-vr-cardboard text-white text-3xl"></i>
      </div>
      <h1
        class="text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-3"
      >
        Virtual Reality Experience
      </h1>
      <p class="text-gray-600 text-lg">
        Explore destinations in immersive 360° view
      </p>
    </div>

    <!-- Search Bar -->
    <div class="max-w-2xl mx-auto mb-12">
      <div class="relative group">
        <span
          class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-purple-500 transition-colors"
        >
          <i class="fas fa-search"></i>
        </span>
        <input
          type="text"
          [(ngModel)]="searchQuery"
          (input)="onSearchChange()"
          placeholder="Search destinations by name or location..."
          class="w-full px-12 py-4 border-2 border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all duration-200 hover:border-gray-300 bg-white"
        />
        <button
          *ngIf="searchQuery"
          (click)="clearSearch()"
          class="absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-purple-100 hover:bg-purple-200 rounded-full flex items-center justify-center transition-all"
        >
          <i class="fas fa-times text-purple-600"></i>
        </button>
      </div>

      <div class="text-center mt-3" *ngIf="searchQuery">
        <span
          class="inline-block bg-white px-4 py-2 rounded-full text-sm font-semibold text-gray-700 shadow-sm"
        >
          {{ filteredPlaces.length }} result{{
            filteredPlaces.length !== 1 ? "s" : ""
          }}
          found
        </span>
      </div>
    </div>

    <!-- No Results -->
    <div class="text-center py-20" *ngIf="noResultsFound">
      <div
        class="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full mb-6"
      >
        <i class="fas fa-search-location text-gray-400 text-4xl"></i>
      </div>
      <h3 class="text-3xl font-bold text-gray-900 mb-3">
        No destinations found
      </h3>
      <p class="text-gray-600 text-lg mb-6">
        Try searching with different keywords
      </p>
      <button
        (click)="clearSearch()"
        class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl font-bold hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105"
      >
        <i class="fas fa-redo mr-2"></i>
        Show All Destinations
      </button>
    </div>

    <!-- VR Content -->
    <div *ngIf="currentPlace && !noResultsFound">
      <!-- Location Header -->
      <div class="text-center mb-8">
        <div
          class="inline-block bg-gradient-to-r from-purple-100 to-pink-100 px-6 py-2 rounded-full mb-4"
        >
          <span
            class="text-purple-700 font-semibold text-sm flex items-center gap-2"
          >
            <i class="fas fa-vr-cardboard"></i>
            360° Virtual Experience
          </span>
        </div>
        <h2 class="text-4xl font-bold text-gray-900 mb-2">
          {{ currentPlace.name }}
        </h2>
        <p class="text-xl text-gray-600 flex items-center justify-center gap-2">
          <i class="fas fa-map-marker-alt text-red-500"></i>
          {{ currentPlace.location }}
        </p>
      </div>

      <!-- VR Viewer Card -->
      <div
        class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl overflow-hidden border border-white/50 p-8"
      >
        <div
          class="relative rounded-2xl overflow-hidden shadow-xl"
          *ngIf="currentPlace.imgUrl"
        >
          <a-scene embedded style="width: 100%; height: 500px">
            <a-sky
              [attr.src]="currentPlace.imgUrl"
              rotation="0 -130 0"
              crossorigin="anonymous"
              animation="property: rotation; to: 0 230 0; dur: 60000; loop: true; easing: linear"
            >
            </a-sky>
            <a-camera position="0 1.6 0">
              <a-cursor color="#9333ea"></a-cursor>
            </a-camera>
          </a-scene>

          <!-- Loading overlay -->
          <div
            class="absolute inset-0 bg-gradient-to-br from-purple-600/90 to-pink-600/90 flex items-center justify-center"
            *ngIf="isLoading"
          >
            <div class="text-center">
              <div
                class="w-16 h-16 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4"
              ></div>
              <p class="text-white font-semibold">Loading VR Experience...</p>
            </div>
          </div>

          <!-- VR Instructions Overlay -->
          <div
            class="absolute top-4 left-4 bg-black/70 backdrop-blur-sm text-white px-4 py-2 rounded-xl text-sm font-medium"
          >
            <i class="fas fa-mouse mr-2"></i>
            Drag to explore • Scroll to zoom
          </div>
        </div>

        <!-- Navigation -->
        <div class="flex items-center justify-center gap-6 mt-8">
          <button
            (click)="prevImage()"
            [disabled]="currentIndex === 0"
            class="group bg-gradient-to-r from-purple-600 to-pink-600 disabled:from-gray-400 disabled:to-gray-400 text-white px-8 py-4 rounded-xl font-bold hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:hover:scale-100 disabled:cursor-not-allowed flex items-center gap-2"
          >
            <i
              class="fas fa-chevron-left group-hover:-translate-x-1 transition-transform"
            ></i>
            Previous
          </button>

          <div
            class="bg-gradient-to-r from-purple-100 to-pink-100 px-6 py-3 rounded-xl"
          >
            <span class="text-purple-700 font-bold text-lg">
              {{ currentIndex + 1 }} / {{ places.length }}
            </span>
          </div>

          <button
            (click)="nextImage()"
            [disabled]="currentIndex === places.length - 1"
            class="group bg-gradient-to-r from-purple-600 to-pink-600 disabled:from-gray-400 disabled:to-gray-400 text-white px-8 py-4 rounded-xl font-bold hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:hover:scale-100 disabled:cursor-not-allowed flex items-center gap-2"
          >
            Next
            <i
              class="fas fa-chevron-right group-hover:translate-x-1 transition-transform"
            ></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
